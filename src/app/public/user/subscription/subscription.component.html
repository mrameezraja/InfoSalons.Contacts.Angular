<div class="card box-shadow" *ngIf="isDefault">
  <div class="card-header">Subscription</div>
  <div class="card-body pb-0">
    <form (submit)="upgrade()">
      <div class="row">
        <div class="col-md-12">
          <div class="form-group row mb-0" *ngIf="errors">
            <label class="col-md-3 col-form-label text-md-right"></label>
            <div class="col-md-6 text-left">
              <app-errors [errors]="errors"></app-errors>
            </div>
          </div>
          <div class="form-group row">
            <label class="col-md-3 col-form-label text-md-right pt-0">Plan</label>
            <div class="col-md-6 text-left">
              <div class="form-check">
                <input class="form-check-input" type="radio" [(ngModel)]="subscription.plan" name="plan" id="plan1"
                  value="getting_started" checked>
                <label class="form-check-label" for="plan1">
                  Getting Started ($5/Month)
                </label>
                <small class="form-text text-muted">
                  - 1 Server <br />
                  - Unlimited Sites <br />
                  - SSL <br />
                  - Auto Deploy
                </small>
              </div>
              <div class="form-check mt-2">
                <input class="form-check-input" type="radio" [(ngModel)]="subscription.plan" name="plan" id="plan2"
                  value="business">
                <label class="form-check-label" for="plan2">
                  Business ($20/Month)
                </label>
                <small class="form-text text-muted">
                  - Unlimited Servers <br />
                  - Unlimited Sites <br />
                  - SSL <br />
                  - Auto Deploy
                </small>
              </div>
            </div>
          </div>
          <div class="form-group row">
            <label class="col-md-3 col-form-label text-md-right">Credit Card</label>
            <div class="col-md-6 text-left">
              <app-stripe-card #stripeCard></app-stripe-card>
              <img src="/assets/powered_by_stripe.svg" class="float-left mt-2" />
              <small class="form-text text-muted float-right mt-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="feather feather-lock icon">
                  <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                  <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                Secure SSL connection
              </small>
            </div>
          </div>
          <div class="form-group row">
            <label class="col-md-3 col-form-label text-md-right"></label>
            <div class="col-md-6 text-left">
              <app-process-button text="Upgrade" [isWorking]="saving"></app-process-button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>


<div class="card box-shadow" *ngIf="!isDefault">
  <div class="card-header">Subscription <app-process-button (click)="cancel()" text="Cancel Subscription"
      type="btn-outline-danger float-right" [isWorking]="saving"></app-process-button>
  </div>
  <div class="card-body pb-0">
    <div class="row mb-0">
      <div class="col">
        <div class="alert alert-info" role="alert">If you want to upgrade to another plan. Cancel this subscription
          first then proceed accordingly.</div>
      </div>
    </div>
    <div class="row mb-0">
      <div class="col">
        <div class="form-group row">
          <label class="col-md-3 col-form-label text-md-right">Subscription</label>
          <div class="col-md-6 text-left">
            <input type="text" class="form-control-plaintext text-capitalized" name="name"
              [(ngModel)]="appSession.subscription.name" readonly>
          </div>
        </div>
        <div class="form-group row" *ngIf="appSession.subscription.trialEndsAt != null">
          <label class="col-md-3 col-form-label text-md-right">Trial Ends At</label>
          <div class="col-md-6 text-left">
            <input type="text" class="form-control-plaintext" name="trialEndsAt"
              [value]="appSession.subscription.trialEndsAt | date : 'medium'" readonly>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>